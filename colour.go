package mmio

import "image/color"

func interp(f float64) color.RGBA {
	if f >= 1. {
		c := linearL[len(linearL)-1]
		return color.RGBA{uint8(c[1]), uint8(c[2]), uint8(c[3]), uint8(c[4])}
	} else if f < 0. {
		c := linearL[0]
		return color.RGBA{uint8(c[1]), uint8(c[2]), uint8(c[3]), uint8(c[4])}
	} else {
		for _, c := range linearL {
			if c[0]/100. > f {
				return color.RGBA{uint8(c[1]), uint8(c[2]), uint8(c[3]), uint8(c[4])}
			}
		}
	}
	return color.RGBA{0, 0, 0, 0}
}

// func interp(f float64) uint8 {
// 	if f > 1. {
// 		return 255
// 	} else if f < 0. {
// 		return 0
// 	} else {
// 		return uint8(f * 255)
// 	}
// }

var linearL = [][]float64{
	{0.000000, 4, 4, 4, 255},
	{0.392157, 10, 3, 8, 255},
	{0.784314, 13, 4, 11, 255},
	{1.176471, 16, 5, 14, 255},
	{1.568627, 18, 5, 16, 255},
	{1.960784, 21, 6, 18, 255},
	{2.352941, 22, 7, 19, 255},
	{2.745098, 24, 8, 21, 255},
	{3.137255, 26, 8, 22, 255},
	{3.529412, 27, 9, 24, 255},
	{3.921569, 28, 10, 25, 255},
	{4.313725, 30, 11, 26, 255},
	{4.705882, 31, 12, 27, 255},
	{5.098039, 32, 12, 28, 255},
	{5.490196, 33, 13, 29, 255},
	{5.882353, 35, 14, 31, 255},
	{6.274510, 36, 14, 32, 255},
	{6.666667, 37, 15, 32, 255},
	{7.058824, 38, 15, 33, 255},
	{7.450980, 39, 16, 34, 255},
	{7.843137, 40, 17, 35, 255},
	{8.235294, 41, 17, 36, 255},
	{8.627451, 42, 18, 38, 255},
	{9.019608, 43, 19, 38, 255},
	{9.411765, 44, 19, 39, 255},
	{9.803922, 46, 20, 41, 255},
	{10.196078, 46, 20, 45, 255},
	{10.588235, 46, 21, 50, 255},
	{10.980392, 45, 21, 55, 255},
	{11.372549, 45, 21, 60, 255},
	{11.764706, 45, 22, 64, 255},
	{12.156863, 45, 23, 67, 255},
	{12.549020, 45, 23, 71, 255},
	{12.941176, 45, 24, 75, 255},
	{13.333333, 45, 24, 77, 255},
	{13.725490, 45, 25, 81, 255},
	{14.117647, 45, 25, 84, 255},
	{14.509804, 44, 26, 87, 255},
	{14.901961, 44, 27, 90, 255},
	{15.294118, 45, 27, 92, 255},
	{15.686275, 45, 28, 95, 255},
	{16.078431, 44, 29, 98, 255},
	{16.470588, 44, 29, 100, 255},
	{16.862745, 44, 30, 103, 255},
	{17.254902, 44, 31, 106, 255},
	{17.647059, 44, 31, 109, 255},
	{18.039216, 44, 32, 110, 255},
	{18.431373, 44, 33, 113, 255},
	{18.823529, 44, 34, 116, 255},
	{19.215686, 43, 34, 118, 255},
	{19.607843, 42, 35, 121, 255},
	{20.000000, 40, 38, 120, 255},
	{20.392157, 38, 40, 119, 255},
	{20.784314, 36, 42, 120, 255},
	{21.176471, 34, 44, 120, 255},
	{21.568627, 33, 46, 120, 255},
	{21.960784, 32, 47, 120, 255},
	{22.352941, 31, 49, 121, 255},
	{22.745098, 30, 50, 122, 255},
	{23.137255, 30, 51, 123, 255},
	{23.529412, 29, 52, 123, 255},
	{23.921569, 29, 53, 125, 255},
	{24.313725, 28, 55, 125, 255},
	{24.705882, 28, 56, 126, 255},
	{25.098039, 27, 57, 127, 255},
	{25.490196, 28, 58, 128, 255},
	{25.882353, 28, 59, 129, 255},
	{26.274510, 27, 60, 129, 255},
	{26.666667, 27, 61, 131, 255},
	{27.058824, 27, 62, 132, 255},
	{27.450980, 27, 63, 133, 255},
	{27.843137, 28, 64, 134, 255},
	{28.235294, 27, 65, 135, 255},
	{28.627451, 27, 66, 136, 255},
	{29.019608, 27, 68, 137, 255},
	{29.411765, 27, 69, 138, 255},
	{29.803922, 25, 71, 136, 255},
	{30.196078, 22, 73, 134, 255},
	{30.588235, 21, 74, 133, 255},
	{30.980392, 20, 76, 131, 255},
	{31.372549, 17, 78, 129, 255},
	{31.764706, 16, 79, 128, 255},
	{32.156863, 15, 81, 126, 255},
	{32.549020, 14, 82, 125, 255},
	{32.941176, 10, 84, 123, 255},
	{33.333333, 10, 85, 122, 255},
	{33.725490, 9, 87, 120, 255},
	{34.117647, 8, 88, 119, 255},
	{34.509804, 7, 89, 118, 255},
	{34.901961, 6, 91, 117, 255},
	{35.294118, 4, 92, 115, 255},
	{35.686275, 4, 94, 114, 255},
	{36.078431, 4, 95, 114, 255},
	{36.470588, 3, 96, 112, 255},
	{36.862745, 1, 98, 111, 255},
	{37.254902, 1, 99, 110, 255},
	{37.647059, 0, 100, 109, 255},
	{38.039216, 0, 101, 108, 255},
	{38.431373, 0, 103, 107, 255},
	{38.823529, 0, 104, 106, 255},
	{39.215686, 0, 105, 105, 255},
	{39.607843, 0, 107, 104, 255},
	{40.000000, 0, 108, 101, 255},
	{40.392157, 0, 110, 100, 255},
	{40.784314, 0, 111, 99, 255},
	{41.176471, 0, 112, 98, 255},
	{41.568627, 0, 114, 96, 255},
	{41.960784, 0, 115, 95, 255},
	{42.352941, 0, 116, 93, 255},
	{42.745098, 0, 118, 92, 255},
	{43.137255, 0, 119, 90, 255},
	{43.529412, 0, 120, 89, 255},
	{43.921569, 0, 121, 88, 255},
	{44.313725, 0, 123, 86, 255},
	{44.705882, 0, 124, 85, 255},
	{45.098039, 0, 125, 83, 255},
	{45.490196, 0, 127, 82, 255},
	{45.882353, 0, 128, 80, 255},
	{46.274510, 0, 129, 79, 255},
	{46.666667, 0, 131, 77, 255},
	{47.058824, 0, 132, 75, 255},
	{47.450980, 0, 133, 73, 255},
	{47.843137, 0, 134, 72, 255},
	{48.235294, 0, 136, 70, 255},
	{48.627451, 0, 137, 68, 255},
	{49.019608, 0, 138, 66, 255},
	{49.411765, 0, 139, 65, 255},
	{49.803922, 0, 141, 64, 255},
	{50.196078, 0, 142, 63, 255},
	{50.588235, 0, 143, 61, 255},
	{50.980392, 0, 145, 60, 255},
	{51.372549, 0, 146, 60, 255},
	{51.764706, 0, 147, 58, 255},
	{52.156863, 0, 149, 57, 255},
	{52.549020, 0, 150, 56, 255},
	{52.941176, 0, 151, 55, 255},
	{53.333333, 0, 153, 53, 255},
	{53.725490, 0, 154, 52, 255},
	{54.117647, 0, 155, 51, 255},
	{54.509804, 0, 157, 50, 255},
	{54.901961, 0, 158, 48, 255},
	{55.294118, 0, 159, 47, 255},
	{55.686275, 0, 160, 45, 255},
	{56.078431, 0, 162, 44, 255},
	{56.470588, 0, 163, 42, 255},
	{56.862745, 0, 164, 41, 255},
	{57.254902, 0, 165, 39, 255},
	{57.647059, 0, 167, 36, 255},
	{58.039216, 0, 168, 34, 255},
	{58.431373, 0, 169, 31, 255},
	{58.823529, 0, 170, 23, 255},
	{59.215686, 0, 169, 8, 255},
	{59.607843, 9, 170, 0, 255},
	{60.000000, 20, 171, 0, 255},
	{60.392157, 29, 172, 0, 255},
	{60.784314, 35, 173, 0, 255},
	{61.176471, 40, 174, 0, 255},
	{61.568627, 45, 175, 0, 255},
	{61.960784, 48, 176, 0, 255},
	{62.352941, 52, 177, 0, 255},
	{62.745098, 55, 178, 0, 255},
	{63.137255, 59, 179, 0, 255},
	{63.529412, 61, 180, 0, 255},
	{63.921569, 64, 181, 0, 255},
	{64.313725, 66, 182, 0, 255},
	{64.705882, 68, 183, 0, 255},
	{65.098039, 71, 184, 0, 255},
	{65.490196, 73, 185, 0, 255},
	{65.882353, 76, 186, 0, 255},
	{66.274510, 78, 187, 0, 255},
	{66.666667, 79, 188, 0, 255},
	{67.058824, 81, 189, 0, 255},
	{67.450980, 83, 190, 0, 255},
	{67.843137, 85, 191, 0, 255},
	{68.235294, 87, 192, 0, 255},
	{68.627451, 92, 193, 0, 255},
	{69.019608, 99, 193, 0, 255},
	{69.411765, 106, 193, 0, 255},
	{69.803922, 114, 193, 0, 255},
	{70.196078, 119, 194, 0, 255},
	{70.588235, 125, 194, 0, 255},
	{70.980392, 130, 194, 0, 255},
	{71.372549, 135, 195, 0, 255},
	{71.764706, 140, 195, 0, 255},
	{72.156863, 145, 195, 0, 255},
	{72.549020, 149, 196, 0, 255},
	{72.941176, 153, 196, 0, 255},
	{73.333333, 157, 197, 0, 255},
	{73.725490, 161, 197, 0, 255},
	{74.117647, 165, 197, 0, 255},
	{74.509804, 169, 198, 0, 255},
	{74.901961, 172, 198, 0, 255},
	{75.294118, 176, 199, 0, 255},
	{75.686275, 180, 199, 0, 255},
	{76.078431, 184, 199, 0, 255},
	{76.470588, 186, 200, 0, 255},
	{76.862745, 190, 201, 0, 255},
	{77.254902, 193, 201, 0, 255},
	{77.647059, 197, 201, 0, 255},
	{78.039216, 200, 202, 0, 255},
	{78.431373, 201, 201, 24, 255},
	{78.823529, 203, 202, 51, 255},
	{79.215686, 206, 202, 65, 255},
	{79.607843, 207, 203, 77, 255},
	{80.000000, 209, 203, 87, 255},
	{80.392157, 212, 203, 95, 255},
	{80.784314, 213, 204, 103, 255},
	{81.176471, 215, 205, 109, 255},
	{81.568627, 218, 205, 116, 255},
	{81.960784, 219, 206, 121, 255},
	{82.352941, 221, 207, 127, 255},
	{82.745098, 223, 207, 132, 255},
	{83.137255, 226, 207, 138, 255},
	{83.529412, 227, 208, 143, 255},
	{83.921569, 229, 209, 147, 255},
	{84.313725, 231, 209, 151, 255},
	{84.705882, 232, 210, 155, 255},
	{85.098039, 235, 211, 159, 255},
	{85.490196, 237, 211, 164, 255},
	{85.882353, 238, 212, 168, 255},
	{86.274510, 240, 212, 172, 255},
	{86.666667, 243, 213, 175, 255},
	{87.058824, 243, 214, 179, 255},
	{87.450980, 245, 214, 183, 255},
	{87.843137, 248, 215, 186, 255},
	{88.235294, 248, 216, 189, 255},
	{88.627451, 248, 218, 193, 255},
	{89.019608, 247, 219, 195, 255},
	{89.411765, 247, 220, 198, 255},
	{89.803922, 247, 222, 201, 255},
	{90.196078, 248, 223, 204, 255},
	{90.588235, 247, 224, 206, 255},
	{90.980392, 247, 226, 209, 255},
	{91.372549, 247, 227, 211, 255},
	{91.764706, 247, 229, 214, 255},
	{92.156863, 247, 230, 216, 255},
	{92.549020, 247, 231, 218, 255},
	{92.941176, 247, 232, 220, 255},
	{93.333333, 248, 234, 224, 255},
	{93.725490, 247, 235, 225, 255},
	{94.117647, 247, 236, 229, 255},
	{94.509804, 247, 238, 231, 255},
	{94.901961, 247, 239, 232, 255},
	{95.294118, 248, 240, 235, 255},
	{95.686275, 248, 242, 237, 255},
	{96.078431, 247, 243, 239, 255},
	{96.470588, 248, 244, 241, 255},
	{96.862745, 248, 246, 244, 255},
	{97.254902, 248, 247, 246, 255},
	{97.647059, 248, 248, 248, 255},
	{98.039216, 249, 249, 249, 255},
	{98.431373, 251, 251, 251, 255},
	{98.823529, 252, 252, 252, 255},
	{99.215686, 253, 253, 253, 255},
	{99.607843, 254, 254, 254, 255},
	{100.000000, 255, 255, 255, 255}}
